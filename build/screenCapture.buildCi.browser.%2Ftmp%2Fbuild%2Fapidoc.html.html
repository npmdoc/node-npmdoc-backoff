<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/MathieuTurcotte/node-backoff#readme">backoff (v2.5.0)</a>
</h1>
<h4>Fibonacci and exponential backoffs.</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff">module backoff</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.Backoff">
            function <span class="apidocSignatureSpan">backoff.</span>Backoff
            <span class="apidocSignatureSpan">(backoffStrategy)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.Backoff.prototype.backoff">
            function <span class="apidocSignatureSpan">backoff.</span>Backoff.prototype.backoff
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.Backoff.prototype.failAfter">
            function <span class="apidocSignatureSpan">backoff.</span>Backoff.prototype.failAfter
            <span class="apidocSignatureSpan">(maxNumberOfRetry)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.Backoff.prototype.onBackoff_">
            function <span class="apidocSignatureSpan">backoff.</span>Backoff.prototype.onBackoff_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.Backoff.prototype.reset">
            function <span class="apidocSignatureSpan">backoff.</span>Backoff.prototype.reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy">
            function <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.prototype.next_">
            function <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy.prototype.next_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.prototype.reset_">
            function <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy.prototype.reset_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.super_">
            function <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy.super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.getInitialDelay">
            function <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy.super_.prototype.getInitialDelay
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.getMaxDelay">
            function <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy.super_.prototype.getMaxDelay
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.next">
            function <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy.super_.prototype.next
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.next_">
            function <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy.super_.prototype.next_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.reset">
            function <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy.super_.prototype.reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.reset_">
            function <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy.super_.prototype.reset_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FibonacciStrategy">
            function <span class="apidocSignatureSpan">backoff.</span>FibonacciStrategy
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FibonacciStrategy.prototype.next_">
            function <span class="apidocSignatureSpan">backoff.</span>FibonacciStrategy.prototype.next_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FibonacciStrategy.prototype.reset_">
            function <span class="apidocSignatureSpan">backoff.</span>FibonacciStrategy.prototype.reset_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall">
            function <span class="apidocSignatureSpan">backoff.</span>FunctionCall
            <span class="apidocSignatureSpan">(fn, args, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.DEFAULT_RETRY_PREDICATE_">
            function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.DEFAULT_RETRY_PREDICATE_
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.abort">
            function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.abort
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.doCall_">
            function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.doCall_
            <span class="apidocSignatureSpan">(isRetry)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.doCallback_">
            function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.doCallback_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.failAfter">
            function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.failAfter
            <span class="apidocSignatureSpan">(maxNumberOfRetry)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.getLastResult">
            function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.getLastResult
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.getNumRetries">
            function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.getNumRetries
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.handleBackoff_">
            function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.handleBackoff_
            <span class="apidocSignatureSpan">(number, delay, err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.handleFunctionCallback_">
            function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.handleFunctionCallback_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.isAborted">
            function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.isAborted
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.isCompleted">
            function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.isCompleted
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.isPending">
            function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.isPending
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.isRunning">
            function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.isRunning
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.retryIf">
            function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.retryIf
            <span class="apidocSignatureSpan">(retryPredicate)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.setStrategy">
            function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.setStrategy
            <span class="apidocSignatureSpan">(strategy)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.start">
            function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.start
            <span class="apidocSignatureSpan">(backoffFactory)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.call">
            function <span class="apidocSignatureSpan">backoff.</span>call
            <span class="apidocSignatureSpan">(fn, vargs, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.call.call">
            function <span class="apidocSignatureSpan">backoff.</span>call.call
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.exponential">
            function <span class="apidocSignatureSpan">backoff.</span>exponential
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.fibonacci">
            function <span class="apidocSignatureSpan">backoff.</span>fibonacci
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">backoff.</span>Backoff.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy.super_.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">backoff.</span>FibonacciStrategy.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.Backoff">module backoff.Backoff</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.Backoff.Backoff">
            function <span class="apidocSignatureSpan">backoff.</span>Backoff
            <span class="apidocSignatureSpan">(backoffStrategy)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.Backoff.super_">
            function <span class="apidocSignatureSpan">backoff.Backoff.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.Backoff.prototype">module backoff.Backoff.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.Backoff.prototype.backoff">
            function <span class="apidocSignatureSpan">backoff.Backoff.prototype.</span>backoff
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.Backoff.prototype.failAfter">
            function <span class="apidocSignatureSpan">backoff.Backoff.prototype.</span>failAfter
            <span class="apidocSignatureSpan">(maxNumberOfRetry)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.Backoff.prototype.onBackoff_">
            function <span class="apidocSignatureSpan">backoff.Backoff.prototype.</span>onBackoff_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.Backoff.prototype.reset">
            function <span class="apidocSignatureSpan">backoff.Backoff.prototype.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.Backoff.prototype.backoff">module backoff.Backoff.prototype.backoff</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.Backoff.prototype.backoff.backoff">
            function <span class="apidocSignatureSpan">backoff.Backoff.prototype.</span>backoff
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.Backoff.prototype.failAfter">module backoff.Backoff.prototype.failAfter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.Backoff.prototype.failAfter.failAfter">
            function <span class="apidocSignatureSpan">backoff.Backoff.prototype.</span>failAfter
            <span class="apidocSignatureSpan">(maxNumberOfRetry)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.Backoff.prototype.onBackoff_">module backoff.Backoff.prototype.onBackoff_</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.Backoff.prototype.onBackoff_.onBackoff_">
            function <span class="apidocSignatureSpan">backoff.Backoff.prototype.</span>onBackoff_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.Backoff.prototype.reset">module backoff.Backoff.prototype.reset</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.Backoff.prototype.reset.reset">
            function <span class="apidocSignatureSpan">backoff.Backoff.prototype.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.ExponentialStrategy">module backoff.ExponentialStrategy</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.ExponentialStrategy">
            function <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.super_">
            function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">backoff.ExponentialStrategy.</span>DEFAULT_FACTOR</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.ExponentialStrategy.prototype">module backoff.ExponentialStrategy.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.prototype.next_">
            function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.prototype.</span>next_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.prototype.reset_">
            function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.prototype.</span>reset_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.ExponentialStrategy.prototype.next_">module backoff.ExponentialStrategy.prototype.next_</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.prototype.next_.next_">
            function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.prototype.</span>next_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.ExponentialStrategy.prototype.reset_">module backoff.ExponentialStrategy.prototype.reset_</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.prototype.reset_.reset_">
            function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.prototype.</span>reset_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.ExponentialStrategy.super_">module backoff.ExponentialStrategy.super_</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.super_.super_">
            function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.ExponentialStrategy.super_.prototype">module backoff.ExponentialStrategy.super_.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.getInitialDelay">
            function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>getInitialDelay
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.getMaxDelay">
            function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>getMaxDelay
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.next">
            function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>next
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.next_">
            function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>next_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.reset">
            function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.reset_">
            function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>reset_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.ExponentialStrategy.super_.prototype.getInitialDelay">module backoff.ExponentialStrategy.super_.prototype.getInitialDelay</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.getInitialDelay.getInitialDelay">
            function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>getInitialDelay
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.ExponentialStrategy.super_.prototype.getMaxDelay">module backoff.ExponentialStrategy.super_.prototype.getMaxDelay</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.getMaxDelay.getMaxDelay">
            function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>getMaxDelay
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.ExponentialStrategy.super_.prototype.next">module backoff.ExponentialStrategy.super_.prototype.next</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.next.next">
            function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>next
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.ExponentialStrategy.super_.prototype.next_">module backoff.ExponentialStrategy.super_.prototype.next_</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.next_.next_">
            function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>next_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.ExponentialStrategy.super_.prototype.reset">module backoff.ExponentialStrategy.super_.prototype.reset</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.reset.reset">
            function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.ExponentialStrategy.super_.prototype.reset_">module backoff.ExponentialStrategy.super_.prototype.reset_</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.reset_.reset_">
            function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>reset_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.FibonacciStrategy">module backoff.FibonacciStrategy</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FibonacciStrategy.FibonacciStrategy">
            function <span class="apidocSignatureSpan">backoff.</span>FibonacciStrategy
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FibonacciStrategy.super_">
            function <span class="apidocSignatureSpan">backoff.FibonacciStrategy.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.FibonacciStrategy.prototype">module backoff.FibonacciStrategy.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FibonacciStrategy.prototype.next_">
            function <span class="apidocSignatureSpan">backoff.FibonacciStrategy.prototype.</span>next_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FibonacciStrategy.prototype.reset_">
            function <span class="apidocSignatureSpan">backoff.FibonacciStrategy.prototype.</span>reset_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.FibonacciStrategy.prototype.next_">module backoff.FibonacciStrategy.prototype.next_</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FibonacciStrategy.prototype.next_.next_">
            function <span class="apidocSignatureSpan">backoff.FibonacciStrategy.prototype.</span>next_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.FibonacciStrategy.prototype.reset_">module backoff.FibonacciStrategy.prototype.reset_</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FibonacciStrategy.prototype.reset_.reset_">
            function <span class="apidocSignatureSpan">backoff.FibonacciStrategy.prototype.</span>reset_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.FunctionCall">module backoff.FunctionCall</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.FunctionCall">
            function <span class="apidocSignatureSpan">backoff.</span>FunctionCall
            <span class="apidocSignatureSpan">(fn, args, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.DEFAULT_RETRY_PREDICATE_">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.</span>DEFAULT_RETRY_PREDICATE_
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.super_">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">backoff.FunctionCall.</span>State_</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.FunctionCall.DEFAULT_RETRY_PREDICATE_">module backoff.FunctionCall.DEFAULT_RETRY_PREDICATE_</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.DEFAULT_RETRY_PREDICATE_.DEFAULT_RETRY_PREDICATE_">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.</span>DEFAULT_RETRY_PREDICATE_
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.FunctionCall.prototype">module backoff.FunctionCall.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.abort">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>abort
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.doCall_">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>doCall_
            <span class="apidocSignatureSpan">(isRetry)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.doCallback_">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>doCallback_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.failAfter">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>failAfter
            <span class="apidocSignatureSpan">(maxNumberOfRetry)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.getLastResult">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>getLastResult
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.getNumRetries">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>getNumRetries
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.handleBackoff_">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>handleBackoff_
            <span class="apidocSignatureSpan">(number, delay, err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.handleFunctionCallback_">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>handleFunctionCallback_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.isAborted">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>isAborted
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.isCompleted">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>isCompleted
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.isPending">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>isPending
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.isRunning">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>isRunning
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.retryIf">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>retryIf
            <span class="apidocSignatureSpan">(retryPredicate)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.setStrategy">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>setStrategy
            <span class="apidocSignatureSpan">(strategy)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.start">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>start
            <span class="apidocSignatureSpan">(backoffFactory)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.FunctionCall.prototype.abort">module backoff.FunctionCall.prototype.abort</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.abort.abort">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>abort
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.FunctionCall.prototype.doCall_">module backoff.FunctionCall.prototype.doCall_</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.doCall_.doCall_">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>doCall_
            <span class="apidocSignatureSpan">(isRetry)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.FunctionCall.prototype.doCallback_">module backoff.FunctionCall.prototype.doCallback_</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.doCallback_.doCallback_">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>doCallback_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.FunctionCall.prototype.failAfter">module backoff.FunctionCall.prototype.failAfter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.failAfter.failAfter">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>failAfter
            <span class="apidocSignatureSpan">(maxNumberOfRetry)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.FunctionCall.prototype.getLastResult">module backoff.FunctionCall.prototype.getLastResult</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.getLastResult.getLastResult">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>getLastResult
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.FunctionCall.prototype.getNumRetries">module backoff.FunctionCall.prototype.getNumRetries</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.getNumRetries.getNumRetries">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>getNumRetries
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.FunctionCall.prototype.handleBackoff_">module backoff.FunctionCall.prototype.handleBackoff_</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.handleBackoff_.handleBackoff_">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>handleBackoff_
            <span class="apidocSignatureSpan">(number, delay, err)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.FunctionCall.prototype.handleFunctionCallback_">module backoff.FunctionCall.prototype.handleFunctionCallback_</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.handleFunctionCallback_.handleFunctionCallback_">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>handleFunctionCallback_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.FunctionCall.prototype.isAborted">module backoff.FunctionCall.prototype.isAborted</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.isAborted.isAborted">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>isAborted
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.FunctionCall.prototype.isCompleted">module backoff.FunctionCall.prototype.isCompleted</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.isCompleted.isCompleted">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>isCompleted
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.FunctionCall.prototype.isPending">module backoff.FunctionCall.prototype.isPending</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.isPending.isPending">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>isPending
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.FunctionCall.prototype.isRunning">module backoff.FunctionCall.prototype.isRunning</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.isRunning.isRunning">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>isRunning
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.FunctionCall.prototype.retryIf">module backoff.FunctionCall.prototype.retryIf</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.retryIf.retryIf">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>retryIf
            <span class="apidocSignatureSpan">(retryPredicate)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.FunctionCall.prototype.setStrategy">module backoff.FunctionCall.prototype.setStrategy</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.setStrategy.setStrategy">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>setStrategy
            <span class="apidocSignatureSpan">(strategy)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.FunctionCall.prototype.start">module backoff.FunctionCall.prototype.start</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.FunctionCall.prototype.start.start">
            function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>start
            <span class="apidocSignatureSpan">(backoffFactory)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.call">module backoff.call</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.call.call">
            function <span class="apidocSignatureSpan">backoff.</span>call
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.call.call">module backoff.call.call</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.call.call.call">
            function <span class="apidocSignatureSpan">backoff.call.</span>call
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.exponential">module backoff.exponential</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.exponential.exponential">
            function <span class="apidocSignatureSpan">backoff.</span>exponential
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.backoff.fibonacci">module backoff.fibonacci</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.backoff.fibonacci.fibonacci">
            function <span class="apidocSignatureSpan">backoff.</span>fibonacci
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff" id="apidoc.module.backoff">module backoff</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.Backoff" id="apidoc.element.backoff.Backoff">
        function <span class="apidocSignatureSpan">backoff.</span>Backoff
        <span class="apidocSignatureSpan">(backoffStrategy)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Backoff(backoffStrategy) {
    events.EventEmitter.call(this);

    this.backoffStrategy_ = backoffStrategy;
    this.maxNumberOfRetry_ = -1;
    this.backoffNumber_ = 0;
    this.backoffDelay_ = 0;
    this.timeoutID_ = -1;

    this.handlers = {
        backoff: this.onBackoff_.bind(this)
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.Backoff.prototype.backoff" id="apidoc.element.backoff.Backoff.prototype.backoff">
        function <span class="apidocSignatureSpan">backoff.</span>Backoff.prototype.backoff
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Backoff.prototype.backoff = function (err) {
    precond.checkState(this.timeoutID_ === -1, 'Backoff in progress.');

    if (this.backoffNumber_ === this.maxNumberOfRetry_) {
        this.emit('fail', err);
        this.reset();
    } else {
        this.backoffDelay_ = this.backoffStrategy_.next();
        this.timeoutID_ = setTimeout(this.handlers.backoff, this.backoffDelay_);
        this.emit('backoff', this.backoffNumber_, this.backoffDelay_, err);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.Backoff.prototype.failAfter" id="apidoc.element.backoff.Backoff.prototype.failAfter">
        function <span class="apidocSignatureSpan">backoff.</span>Backoff.prototype.failAfter
        <span class="apidocSignatureSpan">(maxNumberOfRetry)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Backoff.prototype.failAfter = function (maxNumberOfRetry) {
    precond.checkArgument(maxNumberOfRetry &gt; 0,
        'Expected a maximum number of retry greater than 0 but got %s.',
        maxNumberOfRetry);

    this.maxNumberOfRetry_ = maxNumberOfRetry;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.Backoff.prototype.onBackoff_" id="apidoc.element.backoff.Backoff.prototype.onBackoff_">
        function <span class="apidocSignatureSpan">backoff.</span>Backoff.prototype.onBackoff_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Backoff.prototype.onBackoff_ = function () {
    this.timeoutID_ = -1;
    this.emit('ready', this.backoffNumber_, this.backoffDelay_);
    this.backoffNumber_++;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.Backoff.prototype.reset" id="apidoc.element.backoff.Backoff.prototype.reset">
        function <span class="apidocSignatureSpan">backoff.</span>Backoff.prototype.reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Backoff.prototype.reset = function () {
    this.backoffNumber_ = 0;
    this.backoffStrategy_.reset();
    clearTimeout(this.timeoutID_);
    this.timeoutID_ = -1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy" id="apidoc.element.backoff.ExponentialStrategy">
        function <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ExponentialBackoffStrategy(options) {
    BackoffStrategy.call(this, options);
    this.backoffDelay_ = 0;
    this.nextBackoffDelay_ = this.getInitialDelay();
    this.factor_ = ExponentialBackoffStrategy.DEFAULT_FACTOR;

    if (options &amp;&amp; options.factor !== undefined) {
        precond.checkArgument(options.factor &gt; 1,
            'Exponential factor should be greater than 1 but got %s.',
            options.factor);
        this.factor_ = options.factor;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        console.log('Error: ' + err.message);
    } else {
        console.log('Status: ' + res.statusCode);
    }
});

call.retryIf(function(err) { return err.status == 503; });
call.setStrategy(new backoff.<span class="apidocCodeKeywordSpan">ExponentialStrategy</span>());
call.failAfter(10);
call.start();
```

## API

### backoff.fibonacci([options])
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.prototype.next_" id="apidoc.element.backoff.ExponentialStrategy.prototype.next_">
        function <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy.prototype.next_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ExponentialStrategy.prototype.next_ = function () {
    this.backoffDelay_ = Math.min(this.nextBackoffDelay_, this.getMaxDelay());
    this.nextBackoffDelay_ = this.backoffDelay_ * this.factor_;
    return this.backoffDelay_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.prototype.reset_" id="apidoc.element.backoff.ExponentialStrategy.prototype.reset_">
        function <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy.prototype.reset_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ExponentialStrategy.prototype.reset_ = function () {
    this.backoffDelay_ = 0;
    this.nextBackoffDelay_ = this.getInitialDelay();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.super_" id="apidoc.element.backoff.ExponentialStrategy.super_">
        function <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy.super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BackoffStrategy(options) {
    options = options || {};

    if (isDef(options.initialDelay) &amp;&amp; options.initialDelay &lt; 1) {
        throw new Error('The initial timeout must be greater than 0.');
    } else if (isDef(options.maxDelay) &amp;&amp; options.maxDelay &lt; 1) {
        throw new Error('The maximal timeout must be greater than 0.');
    }

    this.initialDelay_ = options.initialDelay || 100;
    this.maxDelay_ = options.maxDelay || 10000;

    if (this.maxDelay_ &lt;= this.initialDelay_) {
        throw new Error('The maximal backoff delay must be ' +
                        'greater than the initial backoff delay.');
    }

    if (isDef(options.randomisationFactor) &amp;&amp;
        (options.randomisationFactor &lt; 0 || options.randomisationFactor &gt; 1)) {
        throw new Error('The randomisation factor must be between 0 and 1.');
    }

    this.randomisationFactor_ = options.randomisationFactor || 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.getInitialDelay" id="apidoc.element.backoff.ExponentialStrategy.super_.prototype.getInitialDelay">
        function <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy.super_.prototype.getInitialDelay
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ExponentialStrategy.super_.prototype.getInitialDelay = function () {
    return this.initialDelay_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.getMaxDelay" id="apidoc.element.backoff.ExponentialStrategy.super_.prototype.getMaxDelay">
        function <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy.super_.prototype.getMaxDelay
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ExponentialStrategy.super_.prototype.getMaxDelay = function () {
    return this.maxDelay_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.next" id="apidoc.element.backoff.ExponentialStrategy.super_.prototype.next">
        function <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy.super_.prototype.next
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ExponentialStrategy.super_.prototype.next = function () {
    var backoffDelay = this.next_();
    var randomisationMultiple = 1 + Math.random() * this.randomisationFactor_;
    var randomizedDelay = Math.round(backoffDelay * randomisationMultiple);
    return randomizedDelay;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.next_" id="apidoc.element.backoff.ExponentialStrategy.super_.prototype.next_">
        function <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy.super_.prototype.next_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ExponentialStrategy.super_.prototype.next_ = function () {
    throw new Error('BackoffStrategy.next_() unimplemented.');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.reset" id="apidoc.element.backoff.ExponentialStrategy.super_.prototype.reset">
        function <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy.super_.prototype.reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ExponentialStrategy.super_.prototype.reset = function () {
    this.reset_();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.reset_" id="apidoc.element.backoff.ExponentialStrategy.super_.prototype.reset_">
        function <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy.super_.prototype.reset_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ExponentialStrategy.super_.prototype.reset_ = function () {
    throw new Error('BackoffStrategy.reset_() unimplemented.');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FibonacciStrategy" id="apidoc.element.backoff.FibonacciStrategy">
        function <span class="apidocSignatureSpan">backoff.</span>FibonacciStrategy
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FibonacciBackoffStrategy(options) {
    BackoffStrategy.call(this, options);
    this.backoffDelay_ = 0;
    this.nextBackoffDelay_ = this.getInitialDelay();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FibonacciStrategy.prototype.next_" id="apidoc.element.backoff.FibonacciStrategy.prototype.next_">
        function <span class="apidocSignatureSpan">backoff.</span>FibonacciStrategy.prototype.next_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">FibonacciStrategy.prototype.next_ = function () {
    var backoffDelay = Math.min(this.nextBackoffDelay_, this.getMaxDelay());
    this.nextBackoffDelay_ += this.backoffDelay_;
    this.backoffDelay_ = backoffDelay;
    return backoffDelay;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FibonacciStrategy.prototype.reset_" id="apidoc.element.backoff.FibonacciStrategy.prototype.reset_">
        function <span class="apidocSignatureSpan">backoff.</span>FibonacciStrategy.prototype.reset_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">FibonacciStrategy.prototype.reset_ = function () {
    this.nextBackoffDelay_ = this.getInitialDelay();
    this.backoffDelay_ = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall" id="apidoc.element.backoff.FunctionCall">
        function <span class="apidocSignatureSpan">backoff.</span>FunctionCall
        <span class="apidocSignatureSpan">(fn, args, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FunctionCall(fn, args, callback) {
    events.EventEmitter.call(this);

    precond.checkIsFunction(fn, 'Expected fn to be a function.');
    precond.checkIsArray(args, 'Expected args to be an array.');
    precond.checkIsFunction(callback, 'Expected callback to be a function.');

    this.function_ = fn;
    this.arguments_ = args;
    this.callback_ = callback;
    this.lastResult_ = [];
    this.numRetries_ = 0;

    this.backoff_ = null;
    this.strategy_ = null;
    this.failAfter_ = -1;
    this.retryPredicate_ = FunctionCall.DEFAULT_RETRY_PREDICATE_;

    this.state_ = FunctionCall.State_.PENDING;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.DEFAULT_RETRY_PREDICATE_" id="apidoc.element.backoff.FunctionCall.DEFAULT_RETRY_PREDICATE_">
        function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.DEFAULT_RETRY_PREDICATE_
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">FunctionCall.DEFAULT_RETRY_PREDICATE_ = function (err) {
  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.abort" id="apidoc.element.backoff.FunctionCall.prototype.abort">
        function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.abort
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">FunctionCall.prototype.abort = function () {
    if (this.isCompleted() || this.isAborted()) {
      return;
    }

    if (this.isRunning()) {
        this.backoff_.reset();
    }

    this.state_ = FunctionCall.State_.ABORTED;
    this.lastResult_ = [new Error('Backoff aborted.')];
    this.emit('abort');
    this.doCallback_();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.doCall_" id="apidoc.element.backoff.FunctionCall.prototype.doCall_">
        function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.doCall_
        <span class="apidocSignatureSpan">(isRetry)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">FunctionCall.prototype.doCall_ = function (isRetry) {
    if (isRetry) {
        this.numRetries_++;
    }
    var eventArgs = ['call'].concat(this.arguments_);
    events.EventEmitter.prototype.emit.apply(this, eventArgs);
    var callback = this.handleFunctionCallback_.bind(this);
    this.function_.apply(null, this.arguments_.concat(callback));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.doCallback_" id="apidoc.element.backoff.FunctionCall.prototype.doCallback_">
        function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.doCallback_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">FunctionCall.prototype.doCallback_ = function () {
    this.callback_.apply(null, this.lastResult_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.failAfter" id="apidoc.element.backoff.FunctionCall.prototype.failAfter">
        function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.failAfter
        <span class="apidocSignatureSpan">(maxNumberOfRetry)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">FunctionCall.prototype.failAfter = function (maxNumberOfRetry) {
    precond.checkState(this.isPending(), 'FunctionCall in progress.');
    this.failAfter_ = maxNumberOfRetry;
    return this; // Return this for chaining.
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.getLastResult" id="apidoc.element.backoff.FunctionCall.prototype.getLastResult">
        function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.getLastResult
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">FunctionCall.prototype.getLastResult = function () {
    return this.lastResult_.concat();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.getNumRetries" id="apidoc.element.backoff.FunctionCall.prototype.getNumRetries">
        function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.getNumRetries
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">FunctionCall.prototype.getNumRetries = function () {
    return this.numRetries_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.handleBackoff_" id="apidoc.element.backoff.FunctionCall.prototype.handleBackoff_">
        function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.handleBackoff_
        <span class="apidocSignatureSpan">(number, delay, err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">FunctionCall.prototype.handleBackoff_ = function (number, delay, err) {
    this.emit('backoff', number, delay, err);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.handleFunctionCallback_" id="apidoc.element.backoff.FunctionCall.prototype.handleFunctionCallback_">
        function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.handleFunctionCallback_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">FunctionCall.prototype.handleFunctionCallback_ = function () {
    if (this.isAborted()) {
        return;
    }

    var args = Array.prototype.slice.call(arguments);
    this.lastResult_ = args; // Save last callback arguments.
    events.EventEmitter.prototype.emit.apply(this, ['callback'].concat(args));

    var err = args[0];
    if (err &amp;&amp; this.retryPredicate_(err)) {
        this.backoff_.backoff(err);
    } else {
        this.state_ = FunctionCall.State_.COMPLETED;
        this.doCallback_();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.isAborted" id="apidoc.element.backoff.FunctionCall.prototype.isAborted">
        function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.isAborted
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">FunctionCall.prototype.isAborted = function () {
    return this.state_ == FunctionCall.State_.ABORTED;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.isCompleted" id="apidoc.element.backoff.FunctionCall.prototype.isCompleted">
        function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.isCompleted
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">FunctionCall.prototype.isCompleted = function () {
    return this.state_ == FunctionCall.State_.COMPLETED;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.isPending" id="apidoc.element.backoff.FunctionCall.prototype.isPending">
        function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.isPending
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">FunctionCall.prototype.isPending = function () {
    return this.state_ == FunctionCall.State_.PENDING;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.isRunning" id="apidoc.element.backoff.FunctionCall.prototype.isRunning">
        function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.isRunning
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">FunctionCall.prototype.isRunning = function () {
    return this.state_ == FunctionCall.State_.RUNNING;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.retryIf" id="apidoc.element.backoff.FunctionCall.prototype.retryIf">
        function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.retryIf
        <span class="apidocSignatureSpan">(retryPredicate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">FunctionCall.prototype.retryIf = function (retryPredicate) {
    precond.checkState(this.isPending(), 'FunctionCall in progress.');
    this.retryPredicate_ = retryPredicate;
    return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.setStrategy" id="apidoc.element.backoff.FunctionCall.prototype.setStrategy">
        function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.setStrategy
        <span class="apidocSignatureSpan">(strategy)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">FunctionCall.prototype.setStrategy = function (strategy) {
    precond.checkState(this.isPending(), 'FunctionCall in progress.');
    this.strategy_ = strategy;
    return this; // Return this for chaining.
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.start" id="apidoc.element.backoff.FunctionCall.prototype.start">
        function <span class="apidocSignatureSpan">backoff.</span>FunctionCall.prototype.start
        <span class="apidocSignatureSpan">(backoffFactory)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">FunctionCall.prototype.start = function (backoffFactory) {
    precond.checkState(!this.isAborted(), 'FunctionCall is aborted.');
    precond.checkState(this.isPending(), 'FunctionCall already started.');

    var strategy = this.strategy_ || new FibonacciBackoffStrategy();

    this.backoff_ = backoffFactory ?
        backoffFactory(strategy) :
        new Backoff(strategy);

    this.backoff_.on('ready', this.doCall_.bind(this, true /* isRetry */));
    this.backoff_.on('fail', this.doCallback_.bind(this));
    this.backoff_.on('backoff', this.handleBackoff_.bind(this));

    if (this.failAfter_ &gt; 0) {
        this.backoff_.failAfter(this.failAfter_);
    }

    this.state_ = FunctionCall.State_.RUNNING;
    this.doCall_(false /* isRetry */);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.call" id="apidoc.element.backoff.call">
        function <span class="apidocSignatureSpan">backoff.</span>call
        <span class="apidocSignatureSpan">(fn, vargs, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">call = function (fn, vargs, callback) {
    var args = Array.prototype.slice.call(arguments);
    fn = args[0];
    vargs = args.slice(1, args.length - 1);
    callback = args[args.length - 1];
    return new FunctionCall(fn, vargs, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Note that `Backoff` objects are meant to be instantiated once and reused
several times by calling `reset` after a successful "retry".

### Functional

It's also possible to avoid some boilerplate code when invoking an asynchronous
function in a backoff loop by using `backoff.<span class="apidocCodeKeywordSpan">call</span>(fn, [args, ...], callback)`.

Typical usage looks like the following.

``` js
var call = backoff.call(get, 'https://duplika.ca/', function(err, res) {
console.log('Num retries: ' + call.getNumRetries());
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.call.call" id="apidoc.element.backoff.call.call">
        function <span class="apidocSignatureSpan">backoff.</span>call.call
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function call() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.exponential" id="apidoc.element.backoff.exponential">
        function <span class="apidocSignatureSpan">backoff.</span>exponential
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exponential = function (options) {
    return new Backoff(new ExponentialBackoffStrategy(options));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

## Usage

### Object Oriented

The usual way to instantiate a new `Backoff` object is to use one predefined
factory method: `backoff.fibonacci([options])`, `backoff.<span class="apidocCodeKeywordSpan">exponential</span>([options])`.

`Backoff` inherits from `EventEmitter`. When a backoff starts, a `backoff`
event is emitted and, when a backoff ends, a `ready` event is emitted.
Handlers for these two events are called with the current backoff number and
delay.

``` js
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.fibonacci" id="apidoc.element.backoff.fibonacci">
        function <span class="apidocSignatureSpan">backoff.</span>fibonacci
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fibonacci = function (options) {
    return new Backoff(new FibonacciBackoffStrategy(options));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

## Usage

### Object Oriented

The usual way to instantiate a new `Backoff` object is to use one predefined
factory method: `backoff.<span class="apidocCodeKeywordSpan">fibonacci</span>([options])`, `backoff.exponential([options])`.

`Backoff` inherits from `EventEmitter`. When a backoff starts, a `backoff`
event is emitted and, when a backoff ends, a `ready` event is emitted.
Handlers for these two events are called with the current backoff number and
delay.

``` js
...</pre></li>
    </ul>












</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.Backoff" id="apidoc.module.backoff.Backoff">module backoff.Backoff</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.Backoff.Backoff" id="apidoc.element.backoff.Backoff.Backoff">
        function <span class="apidocSignatureSpan">backoff.</span>Backoff
        <span class="apidocSignatureSpan">(backoffStrategy)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Backoff(backoffStrategy) {
    events.EventEmitter.call(this);

    this.backoffStrategy_ = backoffStrategy;
    this.maxNumberOfRetry_ = -1;
    this.backoffNumber_ = 0;
    this.backoffDelay_ = 0;
    this.timeoutID_ = -1;

    this.handlers = {
        backoff: this.onBackoff_.bind(this)
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.Backoff.super_" id="apidoc.element.backoff.Backoff.super_">
        function <span class="apidocSignatureSpan">backoff.Backoff.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.Backoff.prototype" id="apidoc.module.backoff.Backoff.prototype">module backoff.Backoff.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.Backoff.prototype.backoff" id="apidoc.element.backoff.Backoff.prototype.backoff">
        function <span class="apidocSignatureSpan">backoff.Backoff.prototype.</span>backoff
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">backoff = function (err) {
    precond.checkState(this.timeoutID_ === -1, 'Backoff in progress.');

    if (this.backoffNumber_ === this.maxNumberOfRetry_) {
        this.emit('fail', err);
        this.reset();
    } else {
        this.backoffDelay_ = this.backoffStrategy_.next();
        this.timeoutID_ = setTimeout(this.handlers.backoff, this.backoffDelay_);
        this.emit('backoff', this.backoffNumber_, this.backoffDelay_, err);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

fibonacciBackoff.on('ready', function(number, delay) {
    // Do something when backoff ends, e.g. retry a failed
    // operation (DNS lookup, API call, etc.). If it fails
    // again then backoff, otherwise reset the backoff
    // instance.
    fibonacciBackoff.<span class="apidocCodeKeywordSpan">backoff</span>();
});

fibonacciBackoff.on('fail', function() {
    // Do something when the maximum number of backoffs is
    // reached, e.g. ask the user to check its connection.
    console.log('fail');
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.Backoff.prototype.failAfter" id="apidoc.element.backoff.Backoff.prototype.failAfter">
        function <span class="apidocSignatureSpan">backoff.Backoff.prototype.</span>failAfter
        <span class="apidocSignatureSpan">(maxNumberOfRetry)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">failAfter = function (maxNumberOfRetry) {
    precond.checkArgument(maxNumberOfRetry &gt; 0,
        'Expected a maximum number of retry greater than 0 but got %s.',
        maxNumberOfRetry);

    this.maxNumberOfRetry_ = maxNumberOfRetry;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var fibonacciBackoff = backoff.fibonacci({
    randomisationFactor: 0,
    initialDelay: 10,
    maxDelay: 300
});

fibonacciBackoff.<span class="apidocCodeKeywordSpan">failAfter</span>(10);

fibonacciBackoff.on('backoff', function(number, delay) {
    // Do something when backoff starts, e.g. show to the
    // user the delay before next reconnection attempt.
    console.log(number + ' ' + delay + 'ms');
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.Backoff.prototype.onBackoff_" id="apidoc.element.backoff.Backoff.prototype.onBackoff_">
        function <span class="apidocSignatureSpan">backoff.Backoff.prototype.</span>onBackoff_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onBackoff_ = function () {
    this.timeoutID_ = -1;
    this.emit('ready', this.backoffNumber_, this.backoffDelay_);
    this.backoffNumber_++;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.Backoff.prototype.reset" id="apidoc.element.backoff.Backoff.prototype.reset">
        function <span class="apidocSignatureSpan">backoff.Backoff.prototype.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset = function () {
    this.backoffNumber_ = 0;
    this.backoffStrategy_.reset();
    clearTimeout(this.timeoutID_);
    this.timeoutID_ = -1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

An error will be thrown if a backoff operation is already in progress.

In practice, this method should be called after a failed attempt to perform a
sensitive operation (connecting to a database, downloading a resource over the
network, etc.).

#### backoff.<span class="apidocCodeKeywordSpan">reset</span>()

Resets the backoff delay to the initial backoff delay and stop any backoff
operation in progress. After reset, a backoff instance can and should be
reused.

In practice, this method should be called after having successfully completed
the sensitive operation guarded by the backoff instance or if the client code
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.Backoff.prototype.backoff" id="apidoc.module.backoff.Backoff.prototype.backoff">module backoff.Backoff.prototype.backoff</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.Backoff.prototype.backoff.backoff" id="apidoc.element.backoff.Backoff.prototype.backoff.backoff">
        function <span class="apidocSignatureSpan">backoff.Backoff.prototype.</span>backoff
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">backoff = function (err) {
    precond.checkState(this.timeoutID_ === -1, 'Backoff in progress.');

    if (this.backoffNumber_ === this.maxNumberOfRetry_) {
        this.emit('fail', err);
        this.reset();
    } else {
        this.backoffDelay_ = this.backoffStrategy_.next();
        this.timeoutID_ = setTimeout(this.handlers.backoff, this.backoffDelay_);
        this.emit('backoff', this.backoffNumber_, this.backoffDelay_, err);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

fibonacciBackoff.on('ready', function(number, delay) {
    // Do something when backoff ends, e.g. retry a failed
    // operation (DNS lookup, API call, etc.). If it fails
    // again then backoff, otherwise reset the backoff
    // instance.
    fibonacciBackoff.<span class="apidocCodeKeywordSpan">backoff</span>();
});

fibonacciBackoff.on('fail', function() {
    // Do something when the maximum number of backoffs is
    // reached, e.g. ask the user to check its connection.
    console.log('fail');
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.Backoff.prototype.failAfter" id="apidoc.module.backoff.Backoff.prototype.failAfter">module backoff.Backoff.prototype.failAfter</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.Backoff.prototype.failAfter.failAfter" id="apidoc.element.backoff.Backoff.prototype.failAfter.failAfter">
        function <span class="apidocSignatureSpan">backoff.Backoff.prototype.</span>failAfter
        <span class="apidocSignatureSpan">(maxNumberOfRetry)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">failAfter = function (maxNumberOfRetry) {
    precond.checkArgument(maxNumberOfRetry &gt; 0,
        'Expected a maximum number of retry greater than 0 but got %s.',
        maxNumberOfRetry);

    this.maxNumberOfRetry_ = maxNumberOfRetry;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var fibonacciBackoff = backoff.fibonacci({
    randomisationFactor: 0,
    initialDelay: 10,
    maxDelay: 300
});

fibonacciBackoff.<span class="apidocCodeKeywordSpan">failAfter</span>(10);

fibonacciBackoff.on('backoff', function(number, delay) {
    // Do something when backoff starts, e.g. show to the
    // user the delay before next reconnection attempt.
    console.log(number + ' ' + delay + 'ms');
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.Backoff.prototype.onBackoff_" id="apidoc.module.backoff.Backoff.prototype.onBackoff_">module backoff.Backoff.prototype.onBackoff_</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.Backoff.prototype.onBackoff_.onBackoff_" id="apidoc.element.backoff.Backoff.prototype.onBackoff_.onBackoff_">
        function <span class="apidocSignatureSpan">backoff.Backoff.prototype.</span>onBackoff_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onBackoff_ = function () {
    this.timeoutID_ = -1;
    this.emit('ready', this.backoffNumber_, this.backoffDelay_);
    this.backoffNumber_++;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.Backoff.prototype.reset" id="apidoc.module.backoff.Backoff.prototype.reset">module backoff.Backoff.prototype.reset</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.Backoff.prototype.reset.reset" id="apidoc.element.backoff.Backoff.prototype.reset.reset">
        function <span class="apidocSignatureSpan">backoff.Backoff.prototype.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset = function () {
    this.backoffNumber_ = 0;
    this.backoffStrategy_.reset();
    clearTimeout(this.timeoutID_);
    this.timeoutID_ = -1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

An error will be thrown if a backoff operation is already in progress.

In practice, this method should be called after a failed attempt to perform a
sensitive operation (connecting to a database, downloading a resource over the
network, etc.).

#### backoff.<span class="apidocCodeKeywordSpan">reset</span>()

Resets the backoff delay to the initial backoff delay and stop any backoff
operation in progress. After reset, a backoff instance can and should be
reused.

In practice, this method should be called after having successfully completed
the sensitive operation guarded by the backoff instance or if the client code
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.ExponentialStrategy" id="apidoc.module.backoff.ExponentialStrategy">module backoff.ExponentialStrategy</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.ExponentialStrategy" id="apidoc.element.backoff.ExponentialStrategy.ExponentialStrategy">
        function <span class="apidocSignatureSpan">backoff.</span>ExponentialStrategy
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ExponentialBackoffStrategy(options) {
    BackoffStrategy.call(this, options);
    this.backoffDelay_ = 0;
    this.nextBackoffDelay_ = this.getInitialDelay();
    this.factor_ = ExponentialBackoffStrategy.DEFAULT_FACTOR;

    if (options &amp;&amp; options.factor !== undefined) {
        precond.checkArgument(options.factor &gt; 1,
            'Exponential factor should be greater than 1 but got %s.',
            options.factor);
        this.factor_ = options.factor;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        console.log('Error: ' + err.message);
    } else {
        console.log('Status: ' + res.statusCode);
    }
});

call.retryIf(function(err) { return err.status == 503; });
call.setStrategy(new backoff.<span class="apidocCodeKeywordSpan">ExponentialStrategy</span>());
call.failAfter(10);
call.start();
```

## API

### backoff.fibonacci([options])
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.super_" id="apidoc.element.backoff.ExponentialStrategy.super_">
        function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BackoffStrategy(options) {
    options = options || {};

    if (isDef(options.initialDelay) &amp;&amp; options.initialDelay &lt; 1) {
        throw new Error('The initial timeout must be greater than 0.');
    } else if (isDef(options.maxDelay) &amp;&amp; options.maxDelay &lt; 1) {
        throw new Error('The maximal timeout must be greater than 0.');
    }

    this.initialDelay_ = options.initialDelay || 100;
    this.maxDelay_ = options.maxDelay || 10000;

    if (this.maxDelay_ &lt;= this.initialDelay_) {
        throw new Error('The maximal backoff delay must be ' +
                        'greater than the initial backoff delay.');
    }

    if (isDef(options.randomisationFactor) &amp;&amp;
        (options.randomisationFactor &lt; 0 || options.randomisationFactor &gt; 1)) {
        throw new Error('The randomisation factor must be between 0 and 1.');
    }

    this.randomisationFactor_ = options.randomisationFactor || 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.ExponentialStrategy.prototype" id="apidoc.module.backoff.ExponentialStrategy.prototype">module backoff.ExponentialStrategy.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.prototype.next_" id="apidoc.element.backoff.ExponentialStrategy.prototype.next_">
        function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.prototype.</span>next_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next_ = function () {
    this.backoffDelay_ = Math.min(this.nextBackoffDelay_, this.getMaxDelay());
    this.nextBackoffDelay_ = this.backoffDelay_ * this.factor_;
    return this.backoffDelay_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.prototype.reset_" id="apidoc.element.backoff.ExponentialStrategy.prototype.reset_">
        function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.prototype.</span>reset_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset_ = function () {
    this.backoffDelay_ = 0;
    this.nextBackoffDelay_ = this.getInitialDelay();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.ExponentialStrategy.prototype.next_" id="apidoc.module.backoff.ExponentialStrategy.prototype.next_">module backoff.ExponentialStrategy.prototype.next_</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.prototype.next_.next_" id="apidoc.element.backoff.ExponentialStrategy.prototype.next_.next_">
        function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.prototype.</span>next_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next_ = function () {
    this.backoffDelay_ = Math.min(this.nextBackoffDelay_, this.getMaxDelay());
    this.nextBackoffDelay_ = this.backoffDelay_ * this.factor_;
    return this.backoffDelay_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.ExponentialStrategy.prototype.reset_" id="apidoc.module.backoff.ExponentialStrategy.prototype.reset_">module backoff.ExponentialStrategy.prototype.reset_</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.prototype.reset_.reset_" id="apidoc.element.backoff.ExponentialStrategy.prototype.reset_.reset_">
        function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.prototype.</span>reset_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset_ = function () {
    this.backoffDelay_ = 0;
    this.nextBackoffDelay_ = this.getInitialDelay();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.ExponentialStrategy.super_" id="apidoc.module.backoff.ExponentialStrategy.super_">module backoff.ExponentialStrategy.super_</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.super_.super_" id="apidoc.element.backoff.ExponentialStrategy.super_.super_">
        function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BackoffStrategy(options) {
    options = options || {};

    if (isDef(options.initialDelay) &amp;&amp; options.initialDelay &lt; 1) {
        throw new Error('The initial timeout must be greater than 0.');
    } else if (isDef(options.maxDelay) &amp;&amp; options.maxDelay &lt; 1) {
        throw new Error('The maximal timeout must be greater than 0.');
    }

    this.initialDelay_ = options.initialDelay || 100;
    this.maxDelay_ = options.maxDelay || 10000;

    if (this.maxDelay_ &lt;= this.initialDelay_) {
        throw new Error('The maximal backoff delay must be ' +
                        'greater than the initial backoff delay.');
    }

    if (isDef(options.randomisationFactor) &amp;&amp;
        (options.randomisationFactor &lt; 0 || options.randomisationFactor &gt; 1)) {
        throw new Error('The randomisation factor must be between 0 and 1.');
    }

    this.randomisationFactor_ = options.randomisationFactor || 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.ExponentialStrategy.super_.prototype" id="apidoc.module.backoff.ExponentialStrategy.super_.prototype">module backoff.ExponentialStrategy.super_.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.getInitialDelay" id="apidoc.element.backoff.ExponentialStrategy.super_.prototype.getInitialDelay">
        function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>getInitialDelay
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getInitialDelay = function () {
    return this.initialDelay_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.getMaxDelay" id="apidoc.element.backoff.ExponentialStrategy.super_.prototype.getMaxDelay">
        function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>getMaxDelay
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getMaxDelay = function () {
    return this.maxDelay_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.next" id="apidoc.element.backoff.ExponentialStrategy.super_.prototype.next">
        function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>next
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next = function () {
    var backoffDelay = this.next_();
    var randomisationMultiple = 1 + Math.random() * this.randomisationFactor_;
    var randomizedDelay = Math.round(backoffDelay * randomisationMultiple);
    return randomizedDelay;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
`backoff.failAfter(numberOfBackoffs)`. The backoff instance is automatically
reset after this event is emitted.

### Interface BackoffStrategy

A backoff strategy must provide the following methods.

#### strategy.<span class="apidocCodeKeywordSpan">next</span>()

Computes and returns the next backoff delay.

#### strategy.reset()

Resets the backoff delay to its initial value.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.next_" id="apidoc.element.backoff.ExponentialStrategy.super_.prototype.next_">
        function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>next_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next_ = function () {
    throw new Error('BackoffStrategy.next_() unimplemented.');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.reset" id="apidoc.element.backoff.ExponentialStrategy.super_.prototype.reset">
        function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset = function () {
    this.reset_();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

An error will be thrown if a backoff operation is already in progress.

In practice, this method should be called after a failed attempt to perform a
sensitive operation (connecting to a database, downloading a resource over the
network, etc.).

#### backoff.<span class="apidocCodeKeywordSpan">reset</span>()

Resets the backoff delay to the initial backoff delay and stop any backoff
operation in progress. After reset, a backoff instance can and should be
reused.

In practice, this method should be called after having successfully completed
the sensitive operation guarded by the backoff instance or if the client code
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.reset_" id="apidoc.element.backoff.ExponentialStrategy.super_.prototype.reset_">
        function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>reset_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset_ = function () {
    throw new Error('BackoffStrategy.reset_() unimplemented.');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.ExponentialStrategy.super_.prototype.getInitialDelay" id="apidoc.module.backoff.ExponentialStrategy.super_.prototype.getInitialDelay">module backoff.ExponentialStrategy.super_.prototype.getInitialDelay</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.getInitialDelay.getInitialDelay" id="apidoc.element.backoff.ExponentialStrategy.super_.prototype.getInitialDelay.getInitialDelay">
        function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>getInitialDelay
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getInitialDelay = function () {
    return this.initialDelay_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.ExponentialStrategy.super_.prototype.getMaxDelay" id="apidoc.module.backoff.ExponentialStrategy.super_.prototype.getMaxDelay">module backoff.ExponentialStrategy.super_.prototype.getMaxDelay</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.getMaxDelay.getMaxDelay" id="apidoc.element.backoff.ExponentialStrategy.super_.prototype.getMaxDelay.getMaxDelay">
        function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>getMaxDelay
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getMaxDelay = function () {
    return this.maxDelay_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.ExponentialStrategy.super_.prototype.next" id="apidoc.module.backoff.ExponentialStrategy.super_.prototype.next">module backoff.ExponentialStrategy.super_.prototype.next</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.next.next" id="apidoc.element.backoff.ExponentialStrategy.super_.prototype.next.next">
        function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>next
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next = function () {
    var backoffDelay = this.next_();
    var randomisationMultiple = 1 + Math.random() * this.randomisationFactor_;
    var randomizedDelay = Math.round(backoffDelay * randomisationMultiple);
    return randomizedDelay;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
`backoff.failAfter(numberOfBackoffs)`. The backoff instance is automatically
reset after this event is emitted.

### Interface BackoffStrategy

A backoff strategy must provide the following methods.

#### strategy.<span class="apidocCodeKeywordSpan">next</span>()

Computes and returns the next backoff delay.

#### strategy.reset()

Resets the backoff delay to its initial value.
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.ExponentialStrategy.super_.prototype.next_" id="apidoc.module.backoff.ExponentialStrategy.super_.prototype.next_">module backoff.ExponentialStrategy.super_.prototype.next_</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.next_.next_" id="apidoc.element.backoff.ExponentialStrategy.super_.prototype.next_.next_">
        function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>next_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next_ = function () {
    throw new Error('BackoffStrategy.next_() unimplemented.');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.ExponentialStrategy.super_.prototype.reset" id="apidoc.module.backoff.ExponentialStrategy.super_.prototype.reset">module backoff.ExponentialStrategy.super_.prototype.reset</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.reset.reset" id="apidoc.element.backoff.ExponentialStrategy.super_.prototype.reset.reset">
        function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset = function () {
    this.reset_();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

An error will be thrown if a backoff operation is already in progress.

In practice, this method should be called after a failed attempt to perform a
sensitive operation (connecting to a database, downloading a resource over the
network, etc.).

#### backoff.<span class="apidocCodeKeywordSpan">reset</span>()

Resets the backoff delay to the initial backoff delay and stop any backoff
operation in progress. After reset, a backoff instance can and should be
reused.

In practice, this method should be called after having successfully completed
the sensitive operation guarded by the backoff instance or if the client code
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.ExponentialStrategy.super_.prototype.reset_" id="apidoc.module.backoff.ExponentialStrategy.super_.prototype.reset_">module backoff.ExponentialStrategy.super_.prototype.reset_</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.ExponentialStrategy.super_.prototype.reset_.reset_" id="apidoc.element.backoff.ExponentialStrategy.super_.prototype.reset_.reset_">
        function <span class="apidocSignatureSpan">backoff.ExponentialStrategy.super_.prototype.</span>reset_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset_ = function () {
    throw new Error('BackoffStrategy.reset_() unimplemented.');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.FibonacciStrategy" id="apidoc.module.backoff.FibonacciStrategy">module backoff.FibonacciStrategy</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.FibonacciStrategy.FibonacciStrategy" id="apidoc.element.backoff.FibonacciStrategy.FibonacciStrategy">
        function <span class="apidocSignatureSpan">backoff.</span>FibonacciStrategy
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FibonacciBackoffStrategy(options) {
    BackoffStrategy.call(this, options);
    this.backoffDelay_ = 0;
    this.nextBackoffDelay_ = this.getInitialDelay();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FibonacciStrategy.super_" id="apidoc.element.backoff.FibonacciStrategy.super_">
        function <span class="apidocSignatureSpan">backoff.FibonacciStrategy.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BackoffStrategy(options) {
    options = options || {};

    if (isDef(options.initialDelay) &amp;&amp; options.initialDelay &lt; 1) {
        throw new Error('The initial timeout must be greater than 0.');
    } else if (isDef(options.maxDelay) &amp;&amp; options.maxDelay &lt; 1) {
        throw new Error('The maximal timeout must be greater than 0.');
    }

    this.initialDelay_ = options.initialDelay || 100;
    this.maxDelay_ = options.maxDelay || 10000;

    if (this.maxDelay_ &lt;= this.initialDelay_) {
        throw new Error('The maximal backoff delay must be ' +
                        'greater than the initial backoff delay.');
    }

    if (isDef(options.randomisationFactor) &amp;&amp;
        (options.randomisationFactor &lt; 0 || options.randomisationFactor &gt; 1)) {
        throw new Error('The randomisation factor must be between 0 and 1.');
    }

    this.randomisationFactor_ = options.randomisationFactor || 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.FibonacciStrategy.prototype" id="apidoc.module.backoff.FibonacciStrategy.prototype">module backoff.FibonacciStrategy.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.FibonacciStrategy.prototype.next_" id="apidoc.element.backoff.FibonacciStrategy.prototype.next_">
        function <span class="apidocSignatureSpan">backoff.FibonacciStrategy.prototype.</span>next_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next_ = function () {
    var backoffDelay = Math.min(this.nextBackoffDelay_, this.getMaxDelay());
    this.nextBackoffDelay_ += this.backoffDelay_;
    this.backoffDelay_ = backoffDelay;
    return backoffDelay;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FibonacciStrategy.prototype.reset_" id="apidoc.element.backoff.FibonacciStrategy.prototype.reset_">
        function <span class="apidocSignatureSpan">backoff.FibonacciStrategy.prototype.</span>reset_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset_ = function () {
    this.nextBackoffDelay_ = this.getInitialDelay();
    this.backoffDelay_ = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.FibonacciStrategy.prototype.next_" id="apidoc.module.backoff.FibonacciStrategy.prototype.next_">module backoff.FibonacciStrategy.prototype.next_</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.FibonacciStrategy.prototype.next_.next_" id="apidoc.element.backoff.FibonacciStrategy.prototype.next_.next_">
        function <span class="apidocSignatureSpan">backoff.FibonacciStrategy.prototype.</span>next_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next_ = function () {
    var backoffDelay = Math.min(this.nextBackoffDelay_, this.getMaxDelay());
    this.nextBackoffDelay_ += this.backoffDelay_;
    this.backoffDelay_ = backoffDelay;
    return backoffDelay;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.FibonacciStrategy.prototype.reset_" id="apidoc.module.backoff.FibonacciStrategy.prototype.reset_">module backoff.FibonacciStrategy.prototype.reset_</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.FibonacciStrategy.prototype.reset_.reset_" id="apidoc.element.backoff.FibonacciStrategy.prototype.reset_.reset_">
        function <span class="apidocSignatureSpan">backoff.FibonacciStrategy.prototype.</span>reset_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset_ = function () {
    this.nextBackoffDelay_ = this.getInitialDelay();
    this.backoffDelay_ = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.FunctionCall" id="apidoc.module.backoff.FunctionCall">module backoff.FunctionCall</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.FunctionCall" id="apidoc.element.backoff.FunctionCall.FunctionCall">
        function <span class="apidocSignatureSpan">backoff.</span>FunctionCall
        <span class="apidocSignatureSpan">(fn, args, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FunctionCall(fn, args, callback) {
    events.EventEmitter.call(this);

    precond.checkIsFunction(fn, 'Expected fn to be a function.');
    precond.checkIsArray(args, 'Expected args to be an array.');
    precond.checkIsFunction(callback, 'Expected callback to be a function.');

    this.function_ = fn;
    this.arguments_ = args;
    this.callback_ = callback;
    this.lastResult_ = [];
    this.numRetries_ = 0;

    this.backoff_ = null;
    this.strategy_ = null;
    this.failAfter_ = -1;
    this.retryPredicate_ = FunctionCall.DEFAULT_RETRY_PREDICATE_;

    this.state_ = FunctionCall.State_.PENDING;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.DEFAULT_RETRY_PREDICATE_" id="apidoc.element.backoff.FunctionCall.DEFAULT_RETRY_PREDICATE_">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.</span>DEFAULT_RETRY_PREDICATE_
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">DEFAULT_RETRY_PREDICATE_ = function (err) {
  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.super_" id="apidoc.element.backoff.FunctionCall.super_">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.FunctionCall.DEFAULT_RETRY_PREDICATE_" id="apidoc.module.backoff.FunctionCall.DEFAULT_RETRY_PREDICATE_">module backoff.FunctionCall.DEFAULT_RETRY_PREDICATE_</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.DEFAULT_RETRY_PREDICATE_.DEFAULT_RETRY_PREDICATE_" id="apidoc.element.backoff.FunctionCall.DEFAULT_RETRY_PREDICATE_.DEFAULT_RETRY_PREDICATE_">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.</span>DEFAULT_RETRY_PREDICATE_
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">DEFAULT_RETRY_PREDICATE_ = function (err) {
  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.FunctionCall.prototype" id="apidoc.module.backoff.FunctionCall.prototype">module backoff.FunctionCall.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.abort" id="apidoc.element.backoff.FunctionCall.prototype.abort">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>abort
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">abort = function () {
    if (this.isCompleted() || this.isAborted()) {
      return;
    }

    if (this.isRunning()) {
        this.backoff_.reset();
    }

    this.state_ = FunctionCall.State_.ABORTED;
    this.lastResult_ = [new Error('Backoff aborted.')];
    this.emit('abort');
    this.doCallback_();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
before, during and after the wrapped function invocation.

#### call.start()

Initiates the call the wrapped function. This method should only be called
once otherwise an exception will be thrown.

#### call.<span class="apidocCodeKeywordSpan">abort</span>()

Aborts the call and causes the completion callback to be invoked with an abort
error if the call was pending or running; does nothing otherwise. This method
can safely be called mutliple times.

#### Event: 'call'
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.doCall_" id="apidoc.element.backoff.FunctionCall.prototype.doCall_">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>doCall_
        <span class="apidocSignatureSpan">(isRetry)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">doCall_ = function (isRetry) {
    if (isRetry) {
        this.numRetries_++;
    }
    var eventArgs = ['call'].concat(this.arguments_);
    events.EventEmitter.prototype.emit.apply(this, eventArgs);
    var callback = this.handleFunctionCallback_.bind(this);
    this.function_.apply(null, this.arguments_.concat(callback));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.doCallback_" id="apidoc.element.backoff.FunctionCall.prototype.doCallback_">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>doCallback_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">doCallback_ = function () {
    this.callback_.apply(null, this.lastResult_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.failAfter" id="apidoc.element.backoff.FunctionCall.prototype.failAfter">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>failAfter
        <span class="apidocSignatureSpan">(maxNumberOfRetry)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">failAfter = function (maxNumberOfRetry) {
    precond.checkState(this.isPending(), 'FunctionCall in progress.');
    this.failAfter_ = maxNumberOfRetry;
    return this; // Return this for chaining.
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var fibonacciBackoff = backoff.fibonacci({
    randomisationFactor: 0,
    initialDelay: 10,
    maxDelay: 300
});

fibonacciBackoff.<span class="apidocCodeKeywordSpan">failAfter</span>(10);

fibonacciBackoff.on('backoff', function(number, delay) {
    // Do something when backoff starts, e.g. show to the
    // user the delay before next reconnection attempt.
    console.log(number + ' ' + delay + 'ms');
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.getLastResult" id="apidoc.element.backoff.FunctionCall.prototype.getLastResult">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>getLastResult
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getLastResult = function () {
    return this.lastResult_.concat();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
should be retried or not, e.g. a network error would be retriable while a type
error would stop the function call. By default, all errors are considered to be
retriable.

This method should be called before `call.start()` otherwise an exception will
be thrown.

#### call.<span class="apidocCodeKeywordSpan">getLastResult</span>()

Returns an array containing the last arguments passed to the completion callback
of the wrapped function. For example, to get the error code returned by the last
call, one would do the following.

``` js
var results = call.getLastResult();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.getNumRetries" id="apidoc.element.backoff.FunctionCall.prototype.getNumRetries">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>getNumRetries
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getNumRetries = function () {
    return this.numRetries_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
It's also possible to avoid some boilerplate code when invoking an asynchronous
function in a backoff loop by using `backoff.call(fn, [args, ...], callback)`.

Typical usage looks like the following.

``` js
var call = backoff.call(get, 'https://duplika.ca/', function(err, res) {
    console.log('Num retries: ' + call.<span class="apidocCodeKeywordSpan">getNumRetries</span>());

    if (err) {
        console.log('Error: ' + err.message);
    } else {
        console.log('Status: ' + res.statusCode);
    }
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.handleBackoff_" id="apidoc.element.backoff.FunctionCall.prototype.handleBackoff_">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>handleBackoff_
        <span class="apidocSignatureSpan">(number, delay, err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">handleBackoff_ = function (number, delay, err) {
    this.emit('backoff', number, delay, err);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.handleFunctionCallback_" id="apidoc.element.backoff.FunctionCall.prototype.handleFunctionCallback_">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>handleFunctionCallback_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">handleFunctionCallback_ = function () {
    if (this.isAborted()) {
        return;
    }

    var args = Array.prototype.slice.call(arguments);
    this.lastResult_ = args; // Save last callback arguments.
    events.EventEmitter.prototype.emit.apply(this, ['callback'].concat(args));

    var err = args[0];
    if (err &amp;&amp; this.retryPredicate_(err)) {
        this.backoff_.backoff(err);
    } else {
        this.state_ = FunctionCall.State_.COMPLETED;
        this.doCallback_();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.isAborted" id="apidoc.element.backoff.FunctionCall.prototype.isAborted">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>isAborted
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isAborted = function () {
    return this.state_ == FunctionCall.State_.ABORTED;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Returns whether the call is in progress.

#### call.isCompleted()

Returns whether the call is completed.

#### call.<span class="apidocCodeKeywordSpan">isAborted</span>()

Returns whether the call is aborted.

#### call.setStrategy(strategy)

- strategy: strategy instance to use, defaults to `FibonacciStrategy`.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.isCompleted" id="apidoc.element.backoff.FunctionCall.prototype.isCompleted">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>isCompleted
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isCompleted = function () {
    return this.state_ == FunctionCall.State_.COMPLETED;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Returns whether the call is pending, i.e. hasn't been started.

#### call.isRunning()

Returns whether the call is in progress.

#### call.<span class="apidocCodeKeywordSpan">isCompleted</span>()

Returns whether the call is completed.

#### call.isAborted()

Returns whether the call is aborted.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.isPending" id="apidoc.element.backoff.FunctionCall.prototype.isPending">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>isPending
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isPending = function () {
    return this.state_ == FunctionCall.State_.PENDING;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

- fn: asynchronous function to call
- args: an array containing fn's args
- callback: fn's callback

Constructs a function handler for the given asynchronous function.

#### call.<span class="apidocCodeKeywordSpan">isPending</span>()

Returns whether the call is pending, i.e. hasn't been started.

#### call.isRunning()

Returns whether the call is in progress.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.isRunning" id="apidoc.element.backoff.FunctionCall.prototype.isRunning">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>isRunning
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isRunning = function () {
    return this.state_ == FunctionCall.State_.RUNNING;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Constructs a function handler for the given asynchronous function.

#### call.isPending()

Returns whether the call is pending, i.e. hasn't been started.

#### call.<span class="apidocCodeKeywordSpan">isRunning</span>()

Returns whether the call is in progress.

#### call.isCompleted()

Returns whether the call is completed.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.retryIf" id="apidoc.element.backoff.FunctionCall.prototype.retryIf">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>retryIf
        <span class="apidocSignatureSpan">(retryPredicate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">retryIf = function (retryPredicate) {
    precond.checkState(this.isPending(), 'FunctionCall in progress.');
    this.retryPredicate_ = retryPredicate;
    return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (err) {
        console.log('Error: ' + err.message);
    } else {
        console.log('Status: ' + res.statusCode);
    }
});

call.<span class="apidocCodeKeywordSpan">retryIf</span>(function(err) { return err.status == 503; });
call.setStrategy(new backoff.ExponentialStrategy());
call.failAfter(10);
call.start();
```

## API
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.setStrategy" id="apidoc.element.backoff.FunctionCall.prototype.setStrategy">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>setStrategy
        <span class="apidocSignatureSpan">(strategy)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setStrategy = function (strategy) {
    precond.checkState(this.isPending(), 'FunctionCall in progress.');
    this.strategy_ = strategy;
    return this; // Return this for chaining.
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        console.log('Error: ' + err.message);
    } else {
        console.log('Status: ' + res.statusCode);
    }
});

call.retryIf(function(err) { return err.status == 503; });
call.<span class="apidocCodeKeywordSpan">setStrategy</span>(new backoff.ExponentialStrategy());
call.failAfter(10);
call.start();
```

## API

### backoff.fibonacci([options])
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.start" id="apidoc.element.backoff.FunctionCall.prototype.start">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>start
        <span class="apidocSignatureSpan">(backoffFactory)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (backoffFactory) {
    precond.checkState(!this.isAborted(), 'FunctionCall is aborted.');
    precond.checkState(this.isPending(), 'FunctionCall already started.');

    var strategy = this.strategy_ || new FibonacciBackoffStrategy();

    this.backoff_ = backoffFactory ?
        backoffFactory(strategy) :
        new Backoff(strategy);

    this.backoff_.on('ready', this.doCall_.bind(this, true /* isRetry */));
    this.backoff_.on('fail', this.doCallback_.bind(this));
    this.backoff_.on('backoff', this.handleBackoff_.bind(this));

    if (this.failAfter_ &gt; 0) {
        this.backoff_.failAfter(this.failAfter_);
    }

    this.state_ = FunctionCall.State_.RUNNING;
    this.doCall_(false /* isRetry */);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        console.log('Status: ' + res.statusCode);
    }
});

call.retryIf(function(err) { return err.status == 503; });
call.setStrategy(new backoff.ExponentialStrategy());
call.failAfter(10);
call.<span class="apidocCodeKeywordSpan">start</span>();
```

## API

### backoff.fibonacci([options])

Constructs a Fibonacci backoff (10, 10, 20, 30, 50, etc.).
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.FunctionCall.prototype.abort" id="apidoc.module.backoff.FunctionCall.prototype.abort">module backoff.FunctionCall.prototype.abort</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.abort.abort" id="apidoc.element.backoff.FunctionCall.prototype.abort.abort">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>abort
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">abort = function () {
    if (this.isCompleted() || this.isAborted()) {
      return;
    }

    if (this.isRunning()) {
        this.backoff_.reset();
    }

    this.state_ = FunctionCall.State_.ABORTED;
    this.lastResult_ = [new Error('Backoff aborted.')];
    this.emit('abort');
    this.doCallback_();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
before, during and after the wrapped function invocation.

#### call.start()

Initiates the call the wrapped function. This method should only be called
once otherwise an exception will be thrown.

#### call.<span class="apidocCodeKeywordSpan">abort</span>()

Aborts the call and causes the completion callback to be invoked with an abort
error if the call was pending or running; does nothing otherwise. This method
can safely be called mutliple times.

#### Event: 'call'
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.FunctionCall.prototype.doCall_" id="apidoc.module.backoff.FunctionCall.prototype.doCall_">module backoff.FunctionCall.prototype.doCall_</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.doCall_.doCall_" id="apidoc.element.backoff.FunctionCall.prototype.doCall_.doCall_">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>doCall_
        <span class="apidocSignatureSpan">(isRetry)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">doCall_ = function (isRetry) {
    if (isRetry) {
        this.numRetries_++;
    }
    var eventArgs = ['call'].concat(this.arguments_);
    events.EventEmitter.prototype.emit.apply(this, eventArgs);
    var callback = this.handleFunctionCallback_.bind(this);
    this.function_.apply(null, this.arguments_.concat(callback));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.FunctionCall.prototype.doCallback_" id="apidoc.module.backoff.FunctionCall.prototype.doCallback_">module backoff.FunctionCall.prototype.doCallback_</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.doCallback_.doCallback_" id="apidoc.element.backoff.FunctionCall.prototype.doCallback_.doCallback_">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>doCallback_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">doCallback_ = function () {
    this.callback_.apply(null, this.lastResult_);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.FunctionCall.prototype.failAfter" id="apidoc.module.backoff.FunctionCall.prototype.failAfter">module backoff.FunctionCall.prototype.failAfter</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.failAfter.failAfter" id="apidoc.element.backoff.FunctionCall.prototype.failAfter.failAfter">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>failAfter
        <span class="apidocSignatureSpan">(maxNumberOfRetry)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">failAfter = function (maxNumberOfRetry) {
    precond.checkState(this.isPending(), 'FunctionCall in progress.');
    this.failAfter_ = maxNumberOfRetry;
    return this; // Return this for chaining.
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var fibonacciBackoff = backoff.fibonacci({
    randomisationFactor: 0,
    initialDelay: 10,
    maxDelay: 300
});

fibonacciBackoff.<span class="apidocCodeKeywordSpan">failAfter</span>(10);

fibonacciBackoff.on('backoff', function(number, delay) {
    // Do something when backoff starts, e.g. show to the
    // user the delay before next reconnection attempt.
    console.log(number + ' ' + delay + 'ms');
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.FunctionCall.prototype.getLastResult" id="apidoc.module.backoff.FunctionCall.prototype.getLastResult">module backoff.FunctionCall.prototype.getLastResult</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.getLastResult.getLastResult" id="apidoc.element.backoff.FunctionCall.prototype.getLastResult.getLastResult">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>getLastResult
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getLastResult = function () {
    return this.lastResult_.concat();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
should be retried or not, e.g. a network error would be retriable while a type
error would stop the function call. By default, all errors are considered to be
retriable.

This method should be called before `call.start()` otherwise an exception will
be thrown.

#### call.<span class="apidocCodeKeywordSpan">getLastResult</span>()

Returns an array containing the last arguments passed to the completion callback
of the wrapped function. For example, to get the error code returned by the last
call, one would do the following.

``` js
var results = call.getLastResult();
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.FunctionCall.prototype.getNumRetries" id="apidoc.module.backoff.FunctionCall.prototype.getNumRetries">module backoff.FunctionCall.prototype.getNumRetries</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.getNumRetries.getNumRetries" id="apidoc.element.backoff.FunctionCall.prototype.getNumRetries.getNumRetries">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>getNumRetries
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getNumRetries = function () {
    return this.numRetries_;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
It's also possible to avoid some boilerplate code when invoking an asynchronous
function in a backoff loop by using `backoff.call(fn, [args, ...], callback)`.

Typical usage looks like the following.

``` js
var call = backoff.call(get, 'https://duplika.ca/', function(err, res) {
    console.log('Num retries: ' + call.<span class="apidocCodeKeywordSpan">getNumRetries</span>());

    if (err) {
        console.log('Error: ' + err.message);
    } else {
        console.log('Status: ' + res.statusCode);
    }
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.FunctionCall.prototype.handleBackoff_" id="apidoc.module.backoff.FunctionCall.prototype.handleBackoff_">module backoff.FunctionCall.prototype.handleBackoff_</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.handleBackoff_.handleBackoff_" id="apidoc.element.backoff.FunctionCall.prototype.handleBackoff_.handleBackoff_">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>handleBackoff_
        <span class="apidocSignatureSpan">(number, delay, err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">handleBackoff_ = function (number, delay, err) {
    this.emit('backoff', number, delay, err);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.FunctionCall.prototype.handleFunctionCallback_" id="apidoc.module.backoff.FunctionCall.prototype.handleFunctionCallback_">module backoff.FunctionCall.prototype.handleFunctionCallback_</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.handleFunctionCallback_.handleFunctionCallback_" id="apidoc.element.backoff.FunctionCall.prototype.handleFunctionCallback_.handleFunctionCallback_">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>handleFunctionCallback_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">handleFunctionCallback_ = function () {
    if (this.isAborted()) {
        return;
    }

    var args = Array.prototype.slice.call(arguments);
    this.lastResult_ = args; // Save last callback arguments.
    events.EventEmitter.prototype.emit.apply(this, ['callback'].concat(args));

    var err = args[0];
    if (err &amp;&amp; this.retryPredicate_(err)) {
        this.backoff_.backoff(err);
    } else {
        this.state_ = FunctionCall.State_.COMPLETED;
        this.doCallback_();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.FunctionCall.prototype.isAborted" id="apidoc.module.backoff.FunctionCall.prototype.isAborted">module backoff.FunctionCall.prototype.isAborted</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.isAborted.isAborted" id="apidoc.element.backoff.FunctionCall.prototype.isAborted.isAborted">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>isAborted
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isAborted = function () {
    return this.state_ == FunctionCall.State_.ABORTED;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Returns whether the call is in progress.

#### call.isCompleted()

Returns whether the call is completed.

#### call.<span class="apidocCodeKeywordSpan">isAborted</span>()

Returns whether the call is aborted.

#### call.setStrategy(strategy)

- strategy: strategy instance to use, defaults to `FibonacciStrategy`.
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.FunctionCall.prototype.isCompleted" id="apidoc.module.backoff.FunctionCall.prototype.isCompleted">module backoff.FunctionCall.prototype.isCompleted</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.isCompleted.isCompleted" id="apidoc.element.backoff.FunctionCall.prototype.isCompleted.isCompleted">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>isCompleted
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isCompleted = function () {
    return this.state_ == FunctionCall.State_.COMPLETED;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Returns whether the call is pending, i.e. hasn't been started.

#### call.isRunning()

Returns whether the call is in progress.

#### call.<span class="apidocCodeKeywordSpan">isCompleted</span>()

Returns whether the call is completed.

#### call.isAborted()

Returns whether the call is aborted.
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.FunctionCall.prototype.isPending" id="apidoc.module.backoff.FunctionCall.prototype.isPending">module backoff.FunctionCall.prototype.isPending</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.isPending.isPending" id="apidoc.element.backoff.FunctionCall.prototype.isPending.isPending">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>isPending
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isPending = function () {
    return this.state_ == FunctionCall.State_.PENDING;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

- fn: asynchronous function to call
- args: an array containing fn's args
- callback: fn's callback

Constructs a function handler for the given asynchronous function.

#### call.<span class="apidocCodeKeywordSpan">isPending</span>()

Returns whether the call is pending, i.e. hasn't been started.

#### call.isRunning()

Returns whether the call is in progress.
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.FunctionCall.prototype.isRunning" id="apidoc.module.backoff.FunctionCall.prototype.isRunning">module backoff.FunctionCall.prototype.isRunning</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.isRunning.isRunning" id="apidoc.element.backoff.FunctionCall.prototype.isRunning.isRunning">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>isRunning
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isRunning = function () {
    return this.state_ == FunctionCall.State_.RUNNING;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Constructs a function handler for the given asynchronous function.

#### call.isPending()

Returns whether the call is pending, i.e. hasn't been started.

#### call.<span class="apidocCodeKeywordSpan">isRunning</span>()

Returns whether the call is in progress.

#### call.isCompleted()

Returns whether the call is completed.
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.FunctionCall.prototype.retryIf" id="apidoc.module.backoff.FunctionCall.prototype.retryIf">module backoff.FunctionCall.prototype.retryIf</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.retryIf.retryIf" id="apidoc.element.backoff.FunctionCall.prototype.retryIf.retryIf">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>retryIf
        <span class="apidocSignatureSpan">(retryPredicate)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">retryIf = function (retryPredicate) {
    precond.checkState(this.isPending(), 'FunctionCall in progress.');
    this.retryPredicate_ = retryPredicate;
    return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (err) {
        console.log('Error: ' + err.message);
    } else {
        console.log('Status: ' + res.statusCode);
    }
});

call.<span class="apidocCodeKeywordSpan">retryIf</span>(function(err) { return err.status == 503; });
call.setStrategy(new backoff.ExponentialStrategy());
call.failAfter(10);
call.start();
```

## API
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.FunctionCall.prototype.setStrategy" id="apidoc.module.backoff.FunctionCall.prototype.setStrategy">module backoff.FunctionCall.prototype.setStrategy</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.setStrategy.setStrategy" id="apidoc.element.backoff.FunctionCall.prototype.setStrategy.setStrategy">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>setStrategy
        <span class="apidocSignatureSpan">(strategy)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setStrategy = function (strategy) {
    precond.checkState(this.isPending(), 'FunctionCall in progress.');
    this.strategy_ = strategy;
    return this; // Return this for chaining.
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        console.log('Error: ' + err.message);
    } else {
        console.log('Status: ' + res.statusCode);
    }
});

call.retryIf(function(err) { return err.status == 503; });
call.<span class="apidocCodeKeywordSpan">setStrategy</span>(new backoff.ExponentialStrategy());
call.failAfter(10);
call.start();
```

## API

### backoff.fibonacci([options])
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.FunctionCall.prototype.start" id="apidoc.module.backoff.FunctionCall.prototype.start">module backoff.FunctionCall.prototype.start</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.FunctionCall.prototype.start.start" id="apidoc.element.backoff.FunctionCall.prototype.start.start">
        function <span class="apidocSignatureSpan">backoff.FunctionCall.prototype.</span>start
        <span class="apidocSignatureSpan">(backoffFactory)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (backoffFactory) {
    precond.checkState(!this.isAborted(), 'FunctionCall is aborted.');
    precond.checkState(this.isPending(), 'FunctionCall already started.');

    var strategy = this.strategy_ || new FibonacciBackoffStrategy();

    this.backoff_ = backoffFactory ?
        backoffFactory(strategy) :
        new Backoff(strategy);

    this.backoff_.on('ready', this.doCall_.bind(this, true /* isRetry */));
    this.backoff_.on('fail', this.doCallback_.bind(this));
    this.backoff_.on('backoff', this.handleBackoff_.bind(this));

    if (this.failAfter_ &gt; 0) {
        this.backoff_.failAfter(this.failAfter_);
    }

    this.state_ = FunctionCall.State_.RUNNING;
    this.doCall_(false /* isRetry */);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        console.log('Status: ' + res.statusCode);
    }
});

call.retryIf(function(err) { return err.status == 503; });
call.setStrategy(new backoff.ExponentialStrategy());
call.failAfter(10);
call.<span class="apidocCodeKeywordSpan">start</span>();
```

## API

### backoff.fibonacci([options])

Constructs a Fibonacci backoff (10, 10, 20, 30, 50, etc.).
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.call" id="apidoc.module.backoff.call">module backoff.call</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.call.call" id="apidoc.element.backoff.call.call">
        function <span class="apidocSignatureSpan">backoff.</span>call
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function call() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Note that `Backoff` objects are meant to be instantiated once and reused
several times by calling `reset` after a successful "retry".

### Functional

It's also possible to avoid some boilerplate code when invoking an asynchronous
function in a backoff loop by using `backoff.<span class="apidocCodeKeywordSpan">call</span>(fn, [args, ...], callback)`.

Typical usage looks like the following.

``` js
var call = backoff.call(get, 'https://duplika.ca/', function(err, res) {
console.log('Num retries: ' + call.getNumRetries());
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.call.call" id="apidoc.module.backoff.call.call">module backoff.call.call</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.call.call.call" id="apidoc.element.backoff.call.call.call">
        function <span class="apidocSignatureSpan">backoff.call.</span>call
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function call() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Note that `Backoff` objects are meant to be instantiated once and reused
several times by calling `reset` after a successful "retry".

### Functional

It's also possible to avoid some boilerplate code when invoking an asynchronous
function in a backoff loop by using `backoff.<span class="apidocCodeKeywordSpan">call</span>(fn, [args, ...], callback)`.

Typical usage looks like the following.

``` js
var call = backoff.call(get, 'https://duplika.ca/', function(err, res) {
console.log('Num retries: ' + call.getNumRetries());
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.exponential" id="apidoc.module.backoff.exponential">module backoff.exponential</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.exponential.exponential" id="apidoc.element.backoff.exponential.exponential">
        function <span class="apidocSignatureSpan">backoff.</span>exponential
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exponential = function (options) {
    return new Backoff(new ExponentialBackoffStrategy(options));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

## Usage

### Object Oriented

The usual way to instantiate a new `Backoff` object is to use one predefined
factory method: `backoff.fibonacci([options])`, `backoff.<span class="apidocCodeKeywordSpan">exponential</span>([options])`.

`Backoff` inherits from `EventEmitter`. When a backoff starts, a `backoff`
event is emitted and, when a backoff ends, a `ready` event is emitted.
Handlers for these two events are called with the current backoff number and
delay.

``` js
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.backoff.fibonacci" id="apidoc.module.backoff.fibonacci">module backoff.fibonacci</a></h1>


    <h2>
        <a href="#apidoc.element.backoff.fibonacci.fibonacci" id="apidoc.element.backoff.fibonacci.fibonacci">
        function <span class="apidocSignatureSpan">backoff.</span>fibonacci
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fibonacci = function (options) {
    return new Backoff(new FibonacciBackoffStrategy(options));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

## Usage

### Object Oriented

The usual way to instantiate a new `Backoff` object is to use one predefined
factory method: `backoff.<span class="apidocCodeKeywordSpan">fibonacci</span>([options])`, `backoff.exponential([options])`.

`Backoff` inherits from `EventEmitter`. When a backoff starts, a `backoff`
event is emitted and, when a backoff ends, a `ready` event is emitted.
Handlers for these two events are called with the current backoff number and
delay.

``` js
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>